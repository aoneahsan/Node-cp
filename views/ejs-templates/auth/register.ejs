<%- include('./../../includes/header.ejs', {successMessage: successMessage,
warningMessage: warningMessage, errorMessage: errorMessage}) %>
<main class="text-center mt-5">
    <% if (errors.length > 0) { %>
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <button
            type="button"
            class="close"
            data-dismiss="alert"
            aria-label="Close"
        >
            <span aria-hidden="true">&times;</span>
        </button>
        <strong><%= errors[0].msg %></strong>
    </div>
    <% } %>
    <div class="container">
        <h1><%= pageTitle %></h1>
        <form
            action="/register"
            method="post"
            class="col-12 col-sm-6 mx-auto border p-5 mt-4 text-left"
            novalidate
        >
            <div class="form-group">
                <label for="name">Name</label>
                <input
                    type="text"
                    class="form-control <%= errors.find(e => e.param === 'name') ? 'border-danger' : '' %>"
                    name="name"
                    id="name"
                    placeholder="Enter Name"
                    value="<%= oldInputs.name %>"
                />
                <% if(errors.find(e => e.param === 'name')) { %>
                <span class="small">
                    <%= errors.find(e => e.param === 'name') ? errors.find(e =>
                    e.param === 'name').msg : '' %>
                </span>
                <% } %>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input
                    type="email"
                    class="form-control <%= errors.find(e => e.param === 'email') ? 'border-danger' : '' %>"
                    name="email"
                    id="email"
                    placeholder="Enter Email"
                    value="<%= oldInputs.email %>"
                />
                <% if(errors.find(e => e.param === 'email')) { %>
                <span class="small">
                    <%= errors.find(e => e.param === 'email') ? errors.find(e =>
                    e.param === 'email').msg : '' %>
                </span>
                <% } %>
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input
                    type="password"
                    class="form-control <%= errors.find(e => e.param === 'password') ? 'border-danger' : '' %>"
                    name="password"
                    id="password"
                    placeholder="Enter Password"
                    value="<%= oldInputs.password %>"
                />
                <% if(errors.find(e => e.param === 'password')) { %>
                <span class="small">
                    <%= errors.find(e => e.param === 'password') ? errors.find(e
                    => e.param === 'password').msg : '' %>
                </span>
                <% } %>
            </div>
            <div class="form-group">
                <label for="password_confirm">Password Confirm</label>
                <input
                    type="password"
                    class="form-control <%= errors.find(e => e.param === 'password_confirm') ? 'border-danger' : '' %>"
                    name="password_confirm"
                    id="password_confirm"
                    placeholder="Enter Password Confirm"
                    value="<%= oldInputs.password_confirm %>"
                />
                <% if(errors.find(e => e.param === 'password_confirm')) { %>
                <span class="small">
                    <%= errors.find(e => e.param === 'password_confirm') ?
                    errors.find(e => e.param === 'password_confirm').msg : '' %>
                </span>
                <% } %>
            </div>
            <input type="hidden" name="_csrf" value="<%= csrfTokken %>" />
            <div class="text-center">
                <div class="form-group text-center d-inline-block">
                    <button type="submit" class="btn btn-outline-success">
                        Register
                    </button>
                </div>
                <a href="/login" class="btn btn-outline-warning d-inline-block">
                    Already a Member?
                </a>
            </div>
        </form>
    </div>
</main>
<%- include('./../../includes/footer.ejs') %>
